<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <title></title>
    <link rel="stylesheet" href="../css/basic.css" type="text/css">
    <link rel="stylesheet" href="../css/pygments.css" type="text/css">
    <link href="../css/index.css" rel="stylesheet">
    <style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
    #MathJax_About.MathJax_MousePost {outline: none}
    .MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
    .MathJax_MenuItem {padding: 1px 2em; background: transparent}
    .MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
    .MathJax_MenuActive .MathJax_MenuArrow {color: white}
    .MathJax_MenuArrow.RTL {left: .5em; right: auto}
    .MathJax_MenuCheck {position: absolute; left: .7em}
    .MathJax_MenuCheck.RTL {right: .7em; left: auto}
    .MathJax_MenuRadioCheck {position: absolute; left: .7em}
    .MathJax_MenuRadioCheck.RTL {right: .7em; left: auto}
    .MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}
    .MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}
    .MathJax_MenuDisabled {color: GrayText}
    .MathJax_MenuActive {background-color: #606872; color: white}
    .MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
    .MathJax_ContextMenu:focus {outline: none}
    .MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
    #MathJax_AboutClose {top: .2em; right: .2em}
    .MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
    .MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
    .MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
    .MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
    .MathJax_MenuClose:hover span {background-color: #CCC!important}
    .MathJax_MenuClose:hover:focus {outline: none}
    </style>
    <style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
    </style>
    <style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
    .MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
    </style>
    <style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
    #MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
    #MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
    #MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
    </style>
    <style type="text/css">.MathJax_Preview {color: #888}
    #MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
    #MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
    .MathJax_Error {color: #CC0000; font-style: italic}
    </style>
</head>
  <body>
<div class="section" id="pandas-dataframe-merge">
<h1>pandas.DataFrame.merge<a class="headerlink" href="#pandas-dataframe-merge" title="Permalink to this headline">¶</a></h1>
<dl class="method">
<dt id="pandas.DataFrame.merge">
<code class="sig-prename descclassname">DataFrame.</code><code class="sig-name descname">merge</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">right</em>, <em class="sig-param">how='inner'</em>, <em class="sig-param">on=None</em>, <em class="sig-param">left_on=None</em>, <em class="sig-param">right_on=None</em>, <em class="sig-param">left_index=False</em>, <em class="sig-param">right_index=False</em>, <em class="sig-param">sort=False</em>, <em class="sig-param">suffixes=('_x'</em>, <em class="sig-param">'_y')</em>, <em class="sig-param">copy=True</em>, <em class="sig-param">indicator=False</em>, <em class="sig-param">validate=None</em><span class="sig-paren">)</span> → 'DataFrame'<a class="reference external" href="http://github.com/pandas-dev/pandas/blob/v1.0.3/pandas/core/frame.py#L7265-L7298"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pandas.DataFrame.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge DataFrame or named Series objects with a database-style join.</p>
<p>The join is done on columns or indexes. If joining columns on
columns, the DataFrame indexes <em>will be ignored</em>. Otherwise if joining indexes
on indexes or indexes on a column or columns, the index will be passed on.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>right</strong><span class="classifier">DataFrame or named Series</span></dt><dd><p>Object to merge with.</p>
</dd>
<dt><strong>how</strong><span class="classifier">{‘left’, ‘right’, ‘outer’, ‘inner’}, default ‘inner’</span></dt><dd><p>Type of merge to be performed.</p>
<ul class="simple">
<li><p>left: use only keys from left frame, similar to a SQL left outer join;
preserve key order.</p></li>
<li><p>right: use only keys from right frame, similar to a SQL right outer join;
preserve key order.</p></li>
<li><p>outer: use union of keys from both frames, similar to a SQL full outer
join; sort keys lexicographically.</p></li>
<li><p>inner: use intersection of keys from both frames, similar to a SQL inner
join; preserve the order of the left keys.</p></li>
</ul>
</dd>
<dt><strong>on</strong><span class="classifier">label or list</span></dt><dd><p>Column or index level names to join on. These must be found in both
DataFrames. If <cite>on</cite> is None and not merging on indexes then this defaults
to the intersection of the columns in both DataFrames.</p>
</dd>
<dt><strong>left_on</strong><span class="classifier">label or list, or array-like</span></dt><dd><p>Column or index level names to join on in the left DataFrame. Can also
be an array or list of arrays of the length of the left DataFrame.
These arrays are treated as if they are columns.</p>
</dd>
<dt><strong>right_on</strong><span class="classifier">label or list, or array-like</span></dt><dd><p>Column or index level names to join on in the right DataFrame. Can also
be an array or list of arrays of the length of the right DataFrame.
These arrays are treated as if they are columns.</p>
</dd>
<dt><strong>left_index</strong><span class="classifier">bool, default False</span></dt><dd><p>Use the index from the left DataFrame as the join key(s). If it is a
MultiIndex, the number of keys in the other DataFrame (either the index
or a number of columns) must match the number of levels.</p>
</dd>
<dt><strong>right_index</strong><span class="classifier">bool, default False</span></dt><dd><p>Use the index from the right DataFrame as the join key. Same caveats as
left_index.</p>
</dd>
<dt><strong>sort</strong><span class="classifier">bool, default False</span></dt><dd><p>Sort the join keys lexicographically in the result DataFrame. If False,
the order of the join keys depends on the join type (how keyword).</p>
</dd>
<dt><strong>suffixes</strong><span class="classifier">tuple of (str, str), default (‘_x’, ‘_y’)</span></dt><dd><p>Suffix to apply to overlapping column names in the left and right
side, respectively. To raise an exception on overlapping columns use
(False, False).</p>
</dd>
<dt><strong>copy</strong><span class="classifier">bool, default True</span></dt><dd><p>If False, avoid copy if possible.</p>
</dd>
<dt><strong>indicator</strong><span class="classifier">bool or str, default False</span></dt><dd><p>If True, adds a column to output DataFrame called “_merge” with
information on the source of each row.
If string, column with information on source of each row will be added to
output DataFrame, and column will be named value of string.
Information column is Categorical-type and takes on a value of “left_only”
for observations whose merge key only appears in ‘left’ DataFrame,
“right_only” for observations whose merge key only appears in ‘right’
DataFrame, and “both” if the observation’s merge key is found in both.</p>
</dd>
<dt><strong>validate</strong><span class="classifier">str, optional</span></dt><dd><p>If specified, checks if merge is of specified type.</p>
<ul class="simple">
<li><p>“one_to_one” or “1:1”: check if merge keys are unique in both
left and right datasets.</p></li>
<li><p>“one_to_many” or “1:m”: check if merge keys are unique in left
dataset.</p></li>
<li><p>“many_to_one” or “m:1”: check if merge keys are unique in right
dataset.</p></li>
<li><p>“many_to_many” or “m:m”: allowed, but does not result in checks.</p></li>
</ul>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.21.0.</span></p>
</div>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>DataFrame</dt><dd><p>A DataFrame of the two merged objects.</p>
</dd>
</dl>
</dd>
</dl>
<div class="alert alert-info">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="pandas.merge_ordered.html#pandas.merge_ordered" title="pandas.merge_ordered"><code class="xref py py-obj docutils literal notranslate"><span class="pre">merge_ordered</span></code></a></dt><dd><p>Merge with optional filling/interpolation.</p>
</dd>
<dt><a class="reference internal" href="pandas.merge_asof.html#pandas.merge_asof" title="pandas.merge_asof"><code class="xref py py-obj docutils literal notranslate"><span class="pre">merge_asof</span></code></a></dt><dd><p>Merge on nearest keys.</p>
</dd>
<dt><a class="reference internal" href="pandas.DataFrame.join.html#pandas.DataFrame.join" title="pandas.DataFrame.join"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DataFrame.join</span></code></a></dt><dd><p>Similar method using indices.</p>
</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>Support for specifying index levels as the <cite>on</cite>, <cite>left_on</cite>, and
<cite>right_on</cite> parameters was added in version 0.23.0
Support for merging named Series objects was added in version 0.24.0</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">'lkey'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'foo'</span><span class="p">,</span> <span class="s1">'bar'</span><span class="p">,</span> <span class="s1">'baz'</span><span class="p">,</span> <span class="s1">'foo'</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="s1">'value'</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">'rkey'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'foo'</span><span class="p">,</span> <span class="s1">'bar'</span><span class="p">,</span> <span class="s1">'baz'</span><span class="p">,</span> <span class="s1">'foo'</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="s1">'value'</span><span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df1</span>
<span class="go">    lkey value</span>
<span class="go">0   foo      1</span>
<span class="go">1   bar      2</span>
<span class="go">2   baz      3</span>
<span class="go">3   foo      5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df2</span>
<span class="go">    rkey value</span>
<span class="go">0   foo      5</span>
<span class="go">1   bar      6</span>
<span class="go">2   baz      7</span>
<span class="go">3   foo      8</span>
</pre></div>
</div>
<p>Merge df1 and df2 on the lkey and rkey columns. The value columns have
the default suffixes, _x and _y, appended.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df1</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df2</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">'lkey'</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">'rkey'</span><span class="p">)</span>
<span class="go">  lkey  value_x rkey  value_y</span>
<span class="go">0  foo        1  foo        5</span>
<span class="go">1  foo        1  foo        8</span>
<span class="go">2  foo        5  foo        5</span>
<span class="go">3  foo        5  foo        8</span>
<span class="go">4  bar        2  bar        6</span>
<span class="go">5  baz        3  baz        7</span>
</pre></div>
</div>
<p>Merge DataFrames df1 and df2 with specified left and right suffixes
appended to any overlapping columns.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df1</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df2</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">'lkey'</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">'rkey'</span><span class="p">,</span>
<span class="gp">... </span>          <span class="n">suffixes</span><span class="o">=</span><span class="p">(</span><span class="s1">'_left'</span><span class="p">,</span> <span class="s1">'_right'</span><span class="p">))</span>
<span class="go">  lkey  value_left rkey  value_right</span>
<span class="go">0  foo           1  foo            5</span>
<span class="go">1  foo           1  foo            8</span>
<span class="go">2  foo           5  foo            5</span>
<span class="go">3  foo           5  foo            8</span>
<span class="go">4  bar           2  bar            6</span>
<span class="go">5  baz           3  baz            7</span>
</pre></div>
</div>
<p>Merge DataFrames df1 and df2, but raise an exception if the DataFrames have
any overlapping columns.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df1</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df2</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">'lkey'</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">'rkey'</span><span class="p">,</span> <span class="n">suffixes</span><span class="o">=</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">))</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">columns overlap but no suffix specified:</span>
<span class="go">    Index(['value'], dtype='object')</span>
</pre></div>
</div>
</dd></dl>
</div>
</body></html>